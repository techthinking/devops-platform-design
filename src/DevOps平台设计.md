
# DevOps平台设计

DevOps平台建设是一个系统化地过程，需要完善DevOps工具，组装DevOps工具链，最后通过建模融入企业文化、规章制度、安全合规，系统地提升效率和质量。

DevOps工具提供某一方面的功能，例如：
* jira提供需求管理功能
* git/gitlab提供代码管理功能
* jenkins提供集成流水线功能，
* rundeck/nomad提供部署编排功能，
* promethues提供应用监控功能。
DevOps工具是**点**。这些工具自身能够提供功能，但是相互之间需要关联才能更进一步提升效率。例如：代码提交后触发集成流水线。这就需要工具链。

DevOps工具链是把多个工具串联起来构成一个系统的方法。例如：
* 代码提交到github以后自动触发jenkins流水线运行
* 提交代码时备注上填写issue编号，把commit和issue关联起来，可以在查看commit的界面上点击跳转到相关issue。
* 部署成功以后修改Jira Issue状态为已部署。
DevOps工具链是**线**。工具之间能相互触发、通知。通过工具之间的交互，实现**流动**和**反馈**。一切都很好，效率提升了，状态透明了，反馈及时了。可是如果希望能看到研发过程的数据，例如一个团队一周共提交了多少次、每次代码量多少、多少次集成流水线运行失败了、流水线异常状态多久、部署到生产环境多少次、两次生产环境故障之间间隔多久、发生故障后多久能修复，光靠工具链就不够了，主要原因是工具链中每个工具都有自己的模型，概念和口径对不上。这时就需要DevOps平台来整合。

DevOps平台是**面**。DevOps平台整合工具和工具链、建立领域模型、统一口径、消除信息壁垒，使流动和反馈系统化、制度化，为进学习和改进提供数据支撑。建立DevOps平台后能实现的效果有：
* 研发活动的状态和数据公示在大屏上。
* 研发活动每个环节的时间消耗能准确体现，异常情况及时被侦测到并通知团队。
* 开发、测试、部署各环节在一个界面上操作，满足自动流动条件的会自动流转到下一环节， 需要人决策的可以提供足够的信息，决策过程可见。
* 使用ChatOps提供团队交流机制，沟通中机器人会主动根据工具情况提供信息辅助集体智慧决策，日常重复工作at机器人自动进行。处理问题的痕迹满足管理制度要求，问题处理完毕自动归档到知识库。

从DevOps工具到DevOps工具链再到DevOps平台是一个层层递进的过程，是从点到线到面改善研发活动，其中需要梳理研发流程、规范研发纪律，系统化地提升效率和质量。



